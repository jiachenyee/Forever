{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"attribute","text":"@propertyWrapper"},{"kind":"text","text":" "},{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Forever"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"Value"},{"kind":"text","text":"> "},{"kind":"keyword","text":"where"},{"kind":"text","text":" "},{"kind":"typeIdentifier","text":"Value"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","text":"Decodable","preciseIdentifier":"s:Se"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Value"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","text":"Encodable","preciseIdentifier":"s:SE"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Forever"},{"type":"text","text":" automatically manages persistence for you. As long as the property being persisted conforms to "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swift\/codable"},{"type":"text","text":", when the value is set\/updated, it gets written to a file."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"@Forever"},{"type":"text","text":" property wrapper works just like "},{"type":"codeVoice","code":"@AppStorage"},{"type":"text","text":" or "},{"type":"codeVoice","code":"@SceneStorage"},{"type":"text","text":" but for anything that’s "},{"overridingTitleInlineContent":[{"type":"codeVoice","code":"Codable"}],"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/codable","overridingTitle":"Codable"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["@Forever(\"todos\") var todos = [Todo(title: \"Feed the cat\", isCompleted: true),","                               Todo(title: \"Play with cat\"),","                               Todo(title: \"Get allergies\"),","                               Todo(title: \"Run away from cat\"),","                               Todo(title: \"Get a new cat\")]"]},{"type":"codeListing","syntax":"swift","code":["struct Todo: Codable {","    var title: String","    var isCompleted = false","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Like other SwiftUI property wrappers, you can enable a child view to modify it’s state by passing it as a "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/binding"},{"type":"text","text":". To get a binding to a "},{"type":"codeVoice","code":"Forever"},{"type":"text","text":" value, access the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Forever\/documentation\/Forever\/Forever\/projectedValue"},{"type":"text","text":", by prefixing the property name with a dollar sign ($)."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For instance, to create a todo list, you can use the following."}]},{"type":"codeListing","syntax":"swift","code":["List($todos, editActions: .all) { $todo in","    Button {","        todo.isCompleted.toggle()","    } label: {","        HStack {","            Image(systemName: todo.isCompleted ? \"checkmark.circle.fill\" : \"circle\")","            Text(todo.name)","        }","    }","}f"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Like "},{"type":"codeVoice","code":"@AppStorage"},{"type":"text","text":", "},{"type":"codeVoice","code":"@Forever"},{"type":"text","text":" retrieves the stored value using a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Forever\/documentation\/Forever\/Forever\/key"},{"type":"text","text":". The "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Forever\/documentation\/Forever\/Forever\/key"},{"type":"text","text":" should be unique to each item being stored."},{"type":"text","text":" "},{"type":"text","text":"If multiple properties use the same key, they will reference the same underlying value."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The keys point directly to a JSON file stored in the app’s documents directory."}]},{"type":"codeListing","syntax":"swift","code":["@Forever(\"key\") var apple = \"apple\"         \/\/ Points to \"key.json\"","@Forever(\"key\") var banana = \"banana\"       \/\/ Points to \"key.json\"","@Forever(\"key\") var pineapple = \"pineapple\" \/\/ Points to \"key.json\"","","\/\/ apple == \"apple\"","\/\/ banana == \"apple\"","\/\/ pineapple == \"apple\""]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If a value cannot be retrieved, either because the value is not there or an error decoding the value, it will use the default value provided."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In the example below, when the variable is first initialized, "},{"type":"codeVoice","code":"Forever"},{"type":"text","text":" will store the value as 1."}]},{"type":"codeListing","syntax":"swift","code":["@Forever(\"myVariable\") var myVariable = 0","\/\/ myVariable == 0"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"However, if the value is set to something of a different data type with the same "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Forever\/documentation\/Forever\/Forever\/key"},{"type":"text","text":", "},{"type":"codeVoice","code":"Forever"},{"type":"text","text":" will reset the value and use the new default value."}]},{"type":"codeListing","syntax":"swift","code":["@Forever(\"myVariable\") var myVariable = \"Potato\"","\/\/ myVariable == \"Potato\""]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Instead of creating multiple instances of "},{"type":"codeVoice","code":"Forever"},{"type":"text","text":", you can pass a "},{"type":"codeVoice","code":"Forever"},{"type":"text","text":" property through "},{"type":"codeVoice","code":"@Binding"},{"type":"text","text":" variables or create a ViewModel and use an "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentobject"},{"type":"text","text":" if you would like your "},{"type":"codeVoice","code":"Forever"},{"type":"text","text":" property to be accessible throughout your app."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"It is best to ensure there is one instance of "},{"type":"codeVoice","code":"Forever"},{"type":"text","text":" in order to maintain a single source of truth."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In the example below, there are 2 instances of "},{"type":"codeVoice","code":"@Forever(\"counter\")"},{"type":"text","text":". When the button is pressed, the "},{"type":"codeVoice","code":"Text"},{"type":"text","text":" will not be updated."},{"type":"text","text":" "},{"type":"text","text":"The "},{"type":"codeVoice","code":"Text"},{"type":"text","text":" will only be updated if the app is restarted and a new value gets fetched."}]},{"type":"codeListing","syntax":"swift","code":["struct MyView: View {","","    @Forever(\"counter\") var counter = 0","","    var body: some View {","        Text(\"\\(counter)\") \/\/ Does not get updated","        ButtonView()","    }","}"]},{"type":"codeListing","syntax":"swift","code":["struct ButtonView: View {","","    @Forever(\"counter\") var counter = 0","","    var body: some View {","        Button(\"Increment\") {","            counter += 1","        }","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Instead, the "},{"type":"codeVoice","code":"Forever"},{"type":"text","text":" value should be passed as a "},{"overridingTitleInlineContent":[{"type":"codeVoice","code":"Binding"}],"isActive":true,"type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/binding","overridingTitle":"Binding"},{"type":"text","text":" like the example below."}]},{"type":"codeListing","syntax":"swift","code":["struct MyView: View {","","    @Forever(\"counter\") var counter = 0","","    var body: some View {","        Text(\"\\(counter)\") \/\/ Gets updated","        ButtonView(counter: $counter)","    }","}"]},{"type":"codeListing","syntax":"swift","code":["struct ButtonView: View {","","    @Binding var counter: Int","","    var body: some View {","        Button(\"Increment\") {","            counter += 1","        }","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To use "},{"type":"codeVoice","code":"Forever"},{"type":"text","text":" with UIKit and "},{"type":"reference","isActive":true,"identifier":"http:\/\/developer.apple.com\/documentation\/combine"},{"type":"text","text":", refer to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Forever\/documentation\/Forever\/Forever\/publisher"},{"type":"text","text":"."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/forever\/forever"],"traits":[{"interfaceLanguage":"swift"}]}],"relationshipsSections":[{"identifiers":["doc:\/\/Forever\/7SwiftUI15DynamicPropertyP"],"kind":"relationships","title":"Conforms To","type":"conformsTo"}],"identifier":{"url":"doc:\/\/Forever\/documentation\/Forever\/Forever","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"A property wrapper to persist data automatically"}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Forever"}],"title":"Forever","roleHeading":"Structure","role":"symbol","symbolKind":"struct","externalID":"s:7ForeverAAV","modules":[{"name":"Forever"}],"navigatorTitle":[{"kind":"identifier","text":"Forever"}]},"hierarchy":{"paths":[["doc:\/\/Forever\/documentation\/Forever"]]},"topicSections":[{"title":"Creating Forever","identifiers":["doc:\/\/Forever\/documentation\/Forever\/Forever\/init(wrappedValue:_:file:line:)","doc:\/\/Forever\/documentation\/Forever\/Forever\/key"]},{"title":"Getting the value","identifiers":["doc:\/\/Forever\/documentation\/Forever\/Forever\/projectedValue","doc:\/\/Forever\/documentation\/Forever\/Forever\/wrappedValue"]},{"title":"Combine","identifiers":["doc:\/\/Forever\/documentation\/Forever\/Forever\/publisher"]},{"title":"Don’t like “Forever”?","identifiers":["doc:\/\/Forever\/documentation\/Forever\/DontDie","doc:\/\/Forever\/documentation\/Forever\/DontLeaveMe","doc:\/\/Forever\/documentation\/Forever\/BePersistent"]},{"title":"Default Implementations","identifiers":["doc:\/\/Forever\/documentation\/Forever\/Forever\/DynamicProperty-Implementations"],"generated":true}],"references":{"doc://Forever/documentation/Forever/DontLeaveMe":{"role":"symbol","title":"DontLeaveMe","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"DontLeaveMe"}],"abstract":[{"type":"text","text":"What about telling a variable not to leave you? That’s possible too."}],"identifier":"doc:\/\/Forever\/documentation\/Forever\/DontLeaveMe","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DontLeaveMe"}],"url":"\/documentation\/forever\/dontleaveme"},"doc://Forever/documentation/Forever/BePersistent":{"role":"symbol","title":"BePersistent","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"BePersistent"}],"abstract":[{"type":"text","text":"Be direct, tell a variable to be persistent."}],"identifier":"doc:\/\/Forever\/documentation\/Forever\/BePersistent","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"BePersistent"}],"url":"\/documentation\/forever\/bepersistent"},"doc://Forever/documentation/Forever/Forever":{"role":"symbol","title":"Forever","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Forever"}],"abstract":[{"type":"text","text":"A property wrapper to persist data automatically"}],"identifier":"doc:\/\/Forever\/documentation\/Forever\/Forever","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Forever"}],"url":"\/documentation\/forever\/forever"},"doc://Forever/documentation/Forever/Forever/key":{"role":"symbol","title":"key","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"key"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"}],"abstract":[{"type":"text","text":"A key to retrieve the stored value"}],"identifier":"doc:\/\/Forever\/documentation\/Forever\/Forever\/key","kind":"symbol","type":"topic","url":"\/documentation\/forever\/forever\/key"},"doc://Forever/7SwiftUI15DynamicPropertyP":{"type":"unresolvable","title":"SwiftUI.DynamicProperty","identifier":"doc:\/\/Forever\/7SwiftUI15DynamicPropertyP"},"doc://Forever/documentation/Forever":{"role":"collection","title":"Forever","abstract":[],"identifier":"doc:\/\/Forever\/documentation\/Forever","kind":"symbol","type":"topic","url":"\/documentation\/forever"},"doc://Forever/documentation/Forever/Forever/DynamicProperty-Implementations":{"role":"collectionGroup","title":"DynamicProperty Implementations","abstract":[],"identifier":"doc:\/\/Forever\/documentation\/Forever\/Forever\/DynamicProperty-Implementations","kind":"article","type":"topic","url":"\/documentation\/forever\/forever\/dynamicproperty-implementations"},"doc://Forever/documentation/Forever/Forever/wrappedValue":{"role":"symbol","title":"wrappedValue","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"wrappedValue"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Value","preciseIdentifier":"s:7ForeverAAV5Valuexmfp"}],"abstract":[],"identifier":"doc:\/\/Forever\/documentation\/Forever\/Forever\/wrappedValue","kind":"symbol","type":"topic","url":"\/documentation\/forever\/forever\/wrappedvalue"},"https://developer.apple.com/documentation/swiftui/environmentobject":{"title":"environmentObject","titleInlineContent":[{"type":"codeVoice","code":"environmentObject"}],"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentobject","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/environmentobject"},"http://developer.apple.com/documentation/combine":{"title":"Combine","titleInlineContent":[{"type":"text","text":"Combine"}],"type":"link","identifier":"http:\/\/developer.apple.com\/documentation\/combine","url":"http:\/\/developer.apple.com\/documentation\/combine"},"doc://Forever/documentation/Forever/DontDie":{"role":"symbol","title":"DontDie","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"DontDie"}],"abstract":[{"type":"text","text":"Ever wanted to tell a variable to “Don’t Die”?"}],"identifier":"doc:\/\/Forever\/documentation\/Forever\/DontDie","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"DontDie"}],"url":"\/documentation\/forever\/dontdie"},"https://developer.apple.com/documentation/swiftui/binding":{"title":"Binding","titleInlineContent":[{"type":"codeVoice","code":"Binding"}],"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/swiftui\/binding","url":"https:\/\/developer.apple.com\/documentation\/swiftui\/binding"},"https://developer.apple.com/documentation/swift/codable":{"title":"Codable","titleInlineContent":[{"type":"codeVoice","code":"Codable"}],"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/swift\/codable","url":"https:\/\/developer.apple.com\/documentation\/swift\/codable"},"doc://Forever/documentation/Forever/Forever/init(wrappedValue:_:file:line:)":{"role":"symbol","title":"init(wrappedValue:_:file:line:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"wrappedValue"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Value","preciseIdentifier":"s:7ForeverAAV5Valuexmfp"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"file"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"line"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UInt","preciseIdentifier":"s:Su"},{"kind":"text","text":")"}],"abstract":[],"identifier":"doc:\/\/Forever\/documentation\/Forever\/Forever\/init(wrappedValue:_:file:line:)","kind":"symbol","type":"topic","url":"\/documentation\/forever\/forever\/init(wrappedvalue:_:file:line:)"},"doc://Forever/documentation/Forever/Forever/projectedValue":{"role":"symbol","title":"projectedValue","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"projectedValue"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Binding","preciseIdentifier":"s:7SwiftUI7BindingV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Value","preciseIdentifier":"s:7ForeverAAV5Valuexmfp"},{"kind":"text","text":">"}],"abstract":[{"type":"text","text":"A binding to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Forever\/documentation\/Forever"},{"type":"text","text":" value."}],"identifier":"doc:\/\/Forever\/documentation\/Forever\/Forever\/projectedValue","kind":"symbol","type":"topic","url":"\/documentation\/forever\/forever\/projectedvalue"},"doc://Forever/documentation/Forever/Forever/publisher":{"conformance":{"constraints":[{"type":"codeVoice","code":"Value"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"Decodable"},{"type":"text","text":" and "},{"type":"codeVoice","code":"Encodable"},{"type":"text","text":"."}],"availabilityPrefix":[{"type":"text","text":"Available when"}],"conformancePrefix":[{"type":"text","text":"Conforms when"}]},"role":"symbol","title":"publisher","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"publisher"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AnyPublisher","preciseIdentifier":"s:7Combine12AnyPublisherV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Value","preciseIdentifier":"s:7ForeverAAV5Valuexmfp"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Never","preciseIdentifier":"s:s5NeverO"},{"kind":"text","text":">"}],"abstract":[{"type":"text","text":"A "},{"type":"reference","isActive":true,"identifier":"http:\/\/developer.apple.com\/documentation\/combine"},{"type":"text","text":" publisher that publishes the result of the variable whenever it changes."}],"identifier":"doc:\/\/Forever\/documentation\/Forever\/Forever\/publisher","kind":"symbol","type":"topic","url":"\/documentation\/forever\/forever\/publisher"}}}